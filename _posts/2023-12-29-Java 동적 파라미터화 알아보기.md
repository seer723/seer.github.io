---
title: "Java ÎèôÏ†Å ÌååÎùºÎØ∏ÌÑ∞Ìôî ÏïåÏïÑÎ≥¥Í∏∞"
last_modified_at: 2023-12-29
categories:
  - Java
tags:
  - Java
  - Behavior Parameterization
  - Strategy Design Pattern
  - Lambda
---

> Îã§Î•∏ Î∂ÑÏù¥ Í∞úÎ∞úÌïú ÏΩîÎìúÎ•º ÏàòÏ†ïÌïòÎ©¥ÏÑú Stream.flatMap() Î©îÏÑúÎìúÎ•º Ï≤òÏùå Î≥¥ÏïòÎäîÎç∞Ïöî.  
> Ï†ëÌï¥Î≥¥ÏßÄ Î™ªÌñàÎçò Ìï®ÏàòÎùº Ïñ¥Îñ§ ÏãùÏúºÎ°ú ÏÇ¨Ïö©ÌïòÎäîÏßÄ ÌïôÏäµÌïòÍ≥† Ïù¥Î•º Ï†ïÎ¶¨Ìï¥Î¥§Ïñ¥Ïöî.  

##### 1. ÎÜçÏû•Ïû¨Í≥†Î™©Î°ù Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò

```java
public class Apple {
    private Color color;
    private int weight;

    public Apple(Color color, int weight) {
        this.color = color;
        this.weight = weight;
    }

    public Color getColor() {
        return color;
    }

    public int getWeight() {
        return weight;
    }

    public enum Color {
        RED, GREEN
    }

    @Override
    public String toString() {
        return "Apple{" +
                "color=" + color +
                ", weight=" + weight +
                '}';
    }
}
```

##### 2. Ï≤´ Î≤àÏß∏ ÏãúÎèÑ, ÎÖπÏÉâ ÏÇ¨Í≥º ÌïÑÌÑ∞ÎßÅ

```java
public static List<Apple> filterGreenApples(List<Apple> inventory) {
        List<Apple> result = new ArrayList<>();
        for (Apple apple : inventory) {
            if (GREEN.equals(apple.getColor())) {
                result.add(apple);
            }
        }
        return result;
    }
```

```java
public class Main {
    public static void main(String[] args) {
        List<Apple> inventory = Arrays.asList(
                new Apple(RED, 80),
                new Apple(RED, 155),
                new Apple(RED, 207),
                new Apple(GREEN, 97),
                new Apple(GREEN, 136),
                new Apple(GREEN, 375),
                new Apple(RED, 252),
                new Apple(GREEN, 213),
                new Apple(RED, 301),
                new Apple(RED, 274)
        );

        List<Apple> greenApples = filterGreenApples(inventory);
        System.out.println(greenApples);
    }

    public static List<Apple> filterGreenApples(List<Apple> inventory) {
        List<Apple> result = new ArrayList<>();
        for (Apple apple : inventory) {
            if (GREEN.equals(apple.getColor())) {
                result.add(apple);
            }
        }
        return result;
    }
}
```

```json
[Apple{color=GREEN, weight=97}, Apple{color=GREEN, weight=136}, Apple{color=GREEN, weight=375}, Apple{color=GREEN, weight=213}]
```

##### 3. Îëê Î≤àÏß∏ ÏãúÎèÑ, ÏÉâ ÌååÎùºÎØ∏ÌÑ∞ Ï∂îÍ∞Ä

```java
public static List<Apple> filterApplesByColor(List<Apple> inventory, Apple.Color color) {
        List<Apple> result = new ArrayList<>();
        for (Apple apple : inventory) {
            if (apple.getColor().equals(color)) {
                result.add(apple);
            }
        }
        return result;
    }
```

```java
public class Main {
    public static void main(String[] args) {
        List<Apple> inventory = Arrays.asList(
                new Apple(RED, 80),
                new Apple(RED, 155),
                new Apple(RED, 207),
                new Apple(GREEN, 97),
                new Apple(GREEN, 136),
                new Apple(GREEN, 375),
                new Apple(RED, 252),
                new Apple(GREEN, 213),
                new Apple(RED, 301),
                new Apple(RED, 274)
        );

        List<Apple> greenApples = filterApplesByColor(inventory, GREEN);
        List<Apple> redApples = filterApplesByColor(inventory, RED);
        System.out.println(greenApples);
        System.out.println(redApples);
    }

    public static List<Apple> filterApplesByColor(List<Apple> inventory, Apple.Color color) {
        List<Apple> result = new ArrayList<>();
        for (Apple apple : inventory) {
            if (apple.getColor().equals(color)) {
                result.add(apple);
            }
        }
        return result;
    }
}
```

```json
[Apple{color=GREEN, weight=97}, Apple{color=GREEN, weight=136}, Apple{color=GREEN, weight=375}, Apple{color=GREEN, weight=213}]
[Apple{color=RED, weight=80}, Apple{color=RED, weight=155}, Apple{color=RED, weight=207}, Apple{color=RED, weight=252}, Apple{color=RED, weight=301}, Apple{color=RED, weight=274}]
```

##### 4. ÏÑ∏ Î≤àÏß∏ ÏãúÎèÑ, Í∞ÄÎä•Ìïú Î™®Îì† ÏÜçÏÑ± ÌååÎùºÎØ∏ÌÑ∞Ìôî

```java
public static List<Apple> filterApples(List<Apple> inventory, Apple.Color color, int weight, boolean flag) {
    List<Apple> result = new ArrayList<>();
    for (Apple apple : inventory) {
        if ((flag && apple.getColor().equals(color)) || (!flag && apple.getWeight() > weight)) {
            result.add(apple);
        }
    }
    return result;
}
```

```java
public class Main {
    public static void main(String[] args) {
        List<Apple> inventory = Arrays.asList(
                new Apple(RED, 80),
                new Apple(RED, 155),
                new Apple(RED, 207),
                new Apple(GREEN, 97),
                new Apple(GREEN, 136),
                new Apple(GREEN, 375),
                new Apple(RED, 252),
                new Apple(GREEN, 213),
                new Apple(RED, 301),
                new Apple(RED, 274)
        );

        List<Apple> greenApples = filterApples(inventory, GREEN, 0, true);
        List<Apple> heavyApples = filterApples(inventory, null, 150, false);
        System.out.println(greenApples);
        System.out.println(heavyApples);
    }

    public static List<Apple> filterApples(List<Apple> inventory, Apple.Color color, int weight, boolean flag) {
        List<Apple> result = new ArrayList<>();
        for (Apple apple : inventory) {
            if ((flag && apple.getColor().equals(color)) ||
                (!flag && apple.getWeight() > weight)) {
                result.add(apple);
            }
        }
        return result;
    }
}
```

```json
[Apple{color=GREEN, weight=97}, Apple{color=GREEN, weight=136}, Apple{color=GREEN, weight=375}, Apple{color=GREEN, weight=213}]
[Apple{color=RED, weight=155}, Apple{color=RED, weight=207}, Apple{color=GREEN, weight=375}, Apple{color=RED, weight=252}, Apple{color=GREEN, weight=213}, Apple{color=RED, weight=301}, Apple{color=RED, weight=274}]
```

##### 5. ÎÑ§ Î≤àÏß∏ ÏãúÎèÑ, ÎèôÏûë ÌååÎùºÎØ∏ÌÑ∞Ìôî

```java
interface ApplePredicate {
        boolean test(Apple apple);
    }

    public static class AppleHeavyWeightPredicate implements ApplePredicate {
        @Override
        public boolean test(Apple apple) {
            return apple.getWeight() > 150;
        }
    }

    public static class AppleGreenColorPredicate implements ApplePredicate {
        @Override
        public boolean test(Apple apple) {
            return GREEN.equals(apple.getColor());
        }
    }

    public static class AppleRedAndHeavyPredicate implements ApplePredicate {
        @Override
        public boolean test(Apple apple) {
            return RED.equals(apple.getColor()) && apple.getWeight() > 150;
        }
    }

    public static List<Apple> filterApples(List<Apple> inventory, ApplePredicate p) {
        List<Apple> result = new ArrayList<>();
        for(Apple apple: inventory) {
            if(p.test(apple)) {
                result.add(apple);
            }
        }
        return result;
    }
```

```java
public class Main {
    public static void main(String[] args) {
        List<Apple> inventory = Arrays.asList(
                new Apple(RED, 80),
                new Apple(RED, 155),
                new Apple(RED, 207),
                new Apple(GREEN, 97),
                new Apple(GREEN, 136),
                new Apple(GREEN, 375),
                new Apple(RED, 252),
                new Apple(GREEN, 213),
                new Apple(RED, 301),
                new Apple(RED, 274)
        );

        List<Apple> greenApples = filterApples(inventory, new AppleGreenColorPredicate());
        List<Apple> heavyApples = filterApples(inventory, new AppleHeavyWeightPredicate());
        List<Apple> redAndHeavyApples = filterApples(inventory, new AppleRedAndHeavyPredicate());
        System.out.println(greenApples);
        System.out.println(heavyApples);
        System.out.println(redAndHeavyApples);
    }

    interface ApplePredicate {
        boolean test(Apple apple);
    }

    public static class AppleHeavyWeightPredicate implements ApplePredicate {
        @Override
        public boolean test(Apple apple) {
            return apple.getWeight() > 150;
        }
    }

    public static class AppleGreenColorPredicate implements ApplePredicate {
        @Override
        public boolean test(Apple apple) {
            return GREEN.equals(apple.getColor());
        }
    }

    public static class AppleRedAndHeavyPredicate implements ApplePredicate {
        @Override
        public boolean test(Apple apple) {
            return RED.equals(apple.getColor()) && apple.getWeight() > 150;
        }
    }

    public static List<Apple> filterApples(List<Apple> inventory, ApplePredicate p) {
        List<Apple> result = new ArrayList<>();
        for(Apple apple: inventory) {
            if(p.test(apple)) {
                result.add(apple);
            }
        }
        return result;
    }
}
```

```json
[Apple{color=GREEN, weight=97}, Apple{color=GREEN, weight=136}, Apple{color=GREEN, weight=375}, Apple{color=GREEN, weight=213}]
[Apple{color=RED, weight=155}, Apple{color=RED, weight=207}, Apple{color=GREEN, weight=375}, Apple{color=RED, weight=252}, Apple{color=GREEN, weight=213}, Apple{color=RED, weight=301}, Apple{color=RED, weight=274}]
[Apple{color=RED, weight=155}, Apple{color=RED, weight=207}, Apple{color=RED, weight=252}, Apple{color=RED, weight=301}, Apple{color=RED, weight=274}]
```

##### 6. Îã§ÏÑØ Î≤àÏß∏ ÏãúÎèÑ, ÏùµÎ™Ö ÌÅ¥ÎûòÏä§ ÏÇ¨Ïö©

```java
List<Apple> greenApples = filterApples(inventory, new ApplePredicate() {
    @Override
    public boolean test(Apple apple) {
        return GREEN.equals(apple.getColor());
    }
});

List<Apple> heavyApples = filterApples(inventory, new ApplePredicate() {
    @Override
    public boolean test(Apple apple) {
        return apple.getWeight() > 150;
    }
});

List<Apple> redAndHeavyApples = filterApples(inventory, new ApplePredicate() {
    @Override
    public boolean test(Apple apple) {
        return RED.equals(apple.getColor()) && apple.getWeight() > 150;
    }
});
```

```java
public class Main {
    public static void main(String[] args) {
        List<Apple> inventory = Arrays.asList(
                new Apple(RED, 80),
                new Apple(RED, 155),
                new Apple(RED, 207),
                new Apple(GREEN, 97),
                new Apple(GREEN, 136),
                new Apple(GREEN, 375),
                new Apple(RED, 252),
                new Apple(GREEN, 213),
                new Apple(RED, 301),
                new Apple(RED, 274)
        );

        List<Apple> greenApples = filterApples(inventory, new ApplePredicate() {
            @Override
            public boolean test(Apple apple) {
                return GREEN.equals(apple.getColor());
            }
        });

        List<Apple> heavyApples = filterApples(inventory, new ApplePredicate() {
            @Override
            public boolean test(Apple apple) {
                return apple.getWeight() > 150;
            }
        });

        List<Apple> redAndHeavyApples = filterApples(inventory, new ApplePredicate() {
            @Override
            public boolean test(Apple apple) {
                return RED.equals(apple.getColor()) && apple.getWeight() > 150;
            }
        });

        System.out.println(greenApples);
        System.out.println(heavyApples);
        System.out.println(redAndHeavyApples);
    }

    interface ApplePredicate {
        boolean test(Apple apple);
    }

    public static List<Apple> filterApples(List<Apple> inventory, ApplePredicate p) {
        List<Apple> result = new ArrayList<>();
        for(Apple apple: inventory) {
            if(p.test(apple)) {
                result.add(apple);
            }
        }
        return result;
    }
}
```

```json
[Apple{color=GREEN, weight=97}, Apple{color=GREEN, weight=136}, Apple{color=GREEN, weight=375}, Apple{color=GREEN, weight=213}]
[Apple{color=RED, weight=155}, Apple{color=RED, weight=207}, Apple{color=GREEN, weight=375}, Apple{color=RED, weight=252}, Apple{color=GREEN, weight=213}, Apple{color=RED, weight=301}, Apple{color=RED, weight=274}]
[Apple{color=RED, weight=155}, Apple{color=RED, weight=207}, Apple{color=RED, weight=252}, Apple{color=RED, weight=301}, Apple{color=RED, weight=274}]
```

##### 7. Ïó¨ÏÑØ Î≤àÏß∏ ÏãúÎèÑ, ÎûåÎã§ ÌëúÌòÑÏãù ÏÇ¨Ïö©

```java
List<Apple> greenApples = filterApples(inventory, apple -> GREEN.equals(apple.getColor()));
        List<Apple> heavyApples = filterApples(inventory, apple -> apple.getWeight() > 150);
        List<Apple> redAndHeavyApples = filterApples(inventory, apple -> RED.equals(apple.getColor()) && apple.getWeight() > 150);
```

```java
public class Main {
    public static void main(String[] args) {
        List<Apple> inventory = Arrays.asList(
                new Apple(RED, 80),
                new Apple(RED, 155),
                new Apple(RED, 207),
                new Apple(GREEN, 97),
                new Apple(GREEN, 136),
                new Apple(GREEN, 375),
                new Apple(RED, 252),
                new Apple(GREEN, 213),
                new Apple(RED, 301),
                new Apple(RED, 274)
        );

        List<Apple> greenApples = filterApples(inventory, apple -> GREEN.equals(apple.getColor()));
        List<Apple> heavyApples = filterApples(inventory, apple -> apple.getWeight() > 150);
        List<Apple> redAndHeavyApples = filterApples(inventory, apple -> RED.equals(apple.getColor()) && apple.getWeight() > 150);

        System.out.println(greenApples);
        System.out.println(heavyApples);
        System.out.println(redAndHeavyApples);
    }

    interface ApplePredicate {
        boolean test(Apple apple);
    }

    public static List<Apple> filterApples(List<Apple> inventory, ApplePredicate p) {
        List<Apple> result = new ArrayList<>();
        for(Apple apple: inventory) {
            if(p.test(apple)) {
                result.add(apple);
            }
        }
        return result;
    }
}
```

```json
[Apple{color=GREEN, weight=97}, Apple{color=GREEN, weight=136}, Apple{color=GREEN, weight=375}, Apple{color=GREEN, weight=213}]
[Apple{color=RED, weight=155}, Apple{color=RED, weight=207}, Apple{color=GREEN, weight=375}, Apple{color=RED, weight=252}, Apple{color=GREEN, weight=213}, Apple{color=RED, weight=301}, Apple{color=RED, weight=274}]
[Apple{color=RED, weight=155}, Apple{color=RED, weight=207}, Apple{color=RED, weight=252}, Apple{color=RED, weight=301}, Apple{color=RED, weight=274}]
```

##### 8. ÏùºÍ≥± Î≤àÏß∏ ÏãúÎèÑ, Î¶¨Ïä§Ìä∏ ÌòïÏãùÏúºÎ°ú Ï∂îÏÉÅÌôî

```java
interface Predicate<T> {
        boolean test(T t);
    }

    public static <T> List<T> filter(List<T> list, Predicate<T> p) {
        List<T> result = new ArrayList<>();
        for(T e: list) {
            if(p.test(e)) {
                result.add(e);
            }
        }
        return result;
    }
```

```java
public class Main {
    public static void main(String[] args) {
        List<Apple> inventory = Arrays.asList(
                new Apple(RED, 80),
                new Apple(RED, 155),
                new Apple(RED, 207),
                new Apple(GREEN, 97),
                new Apple(GREEN, 136),
                new Apple(GREEN, 375),
                new Apple(RED, 252),
                new Apple(GREEN, 213),
                new Apple(RED, 301),
                new Apple(RED, 274)
        );

        List<Apple> greenApples = filter(inventory, apple -> GREEN.equals(apple.getColor()));
        List<Integer> evenNumbers = filter(Arrays.asList(1, 2, 3, 4, 5, 6), i -> i % 2 == 0);

        System.out.println(greenApples);
        System.out.println(evenNumbers);
    }

    interface Predicate<T> {
        boolean test(T t);
    }

    public static <T> List<T> filter(List<T> list, Predicate<T> p) {
        List<T> result = new ArrayList<>();
        for(T e: list) {
            if(p.test(e)) {
                result.add(e);
            }
        }
        return result;
    }
}
```

```json
[Apple{color=GREEN, weight=97}, Apple{color=GREEN, weight=136}, Apple{color=GREEN, weight=375}, Apple{color=GREEN, weight=213}]
[2, 4, 6]
```

Ïò§ÎäòÎèÑ ÎØ∏ÏÖò ÌÅ¥Î¶¨Ïñ¥! üëç